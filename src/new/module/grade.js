const data = {
  "Value": 7,
  "Text": "연마 효과",
  "Tiers": [
      4
  ],
  "EtcSubs": [
      {
          "Value": 45,
          "Text": "공격력",
          "Class": "",
          "Categorys": [
              200020
          ],
          "Tiers": null,
          "EtcValues": [
            // 유물 3T
            {
                "DisplayValue": "0.24%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.54%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.89%",
                "Value": 3,
                "IsPercentage": true
            },
             // 고대 3T
            {
                "DisplayValue": "0.29%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.66%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.09%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "0.40%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.95%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.55%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 53,
          "Text": "공격력",
          "Class": "",
          "Categorys": null,
          "Tiers": null,
          "EtcValues": [
            //3T 유물
            {
                "DisplayValue": "14",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "33",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "68",
                "Value": 3,
                "IsPercentage": false
            },
            //3T 고대
            {
                "DisplayValue": "24",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "61",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "118",
                "Value": 3,
                "IsPercentage": false
            },
            //4T
            {
                "DisplayValue": "80",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "195",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "390",
                "Value": 3,
                "IsPercentage": false
            }
          ]
      },
      {
          "Value": 44,
          "Text": "낙인력",
          "Class": "",
          "Categorys": [
              200010
          ],
          "Tiers": null,
          "EtcValues": [
            //3T 유물
            {
                "DisplayValue": "1.20%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.76%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "4.60%",
                "Value": 3,
                "IsPercentage": true
            },
            //3T 고대
            {
                "DisplayValue": "1.48%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.36%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "5.60%",
                "Value": 3,
                "IsPercentage": true
            },
            //4T
            {
                "DisplayValue": "2.15%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "4.80%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "8.00%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 46,
          "Text": "무기 공격력",
          "Class": "",
          "Categorys": [
              200020
          ],
          "Tiers": null,
          "EtcValues": [
            //3T 유물
            {
                "DisplayValue": "0.46%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.04%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.72%",
                "Value": 3,
                "IsPercentage": true
            },
            //3T 고대
            {
                "DisplayValue": "0.56%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.26%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.10%",
                "Value": 3,
                "IsPercentage": true
            },
            //4T
              {
                  "DisplayValue": "0.80%",
                  "Value": 1,
                  "IsPercentage": true
              },
              {
                  "DisplayValue": "1.80%",
                  "Value": 2,
                  "IsPercentage": true
              },
              {
                  "DisplayValue": "3.00%",
                  "Value": 3,
                  "IsPercentage": true
              }
          ]
      },
      {
          "Value": 54,
          "Text": "무기 공격력",
          "Class": "",
          "Categorys": null,
          "Tiers": null,
          "EtcValues": [
            //3T 유물
            {
                "DisplayValue": "32",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "75",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "155",
                "Value": 3,
                "IsPercentage": false
            },
            //3T 고대
            {
                "DisplayValue": "57",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "147",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "285",
                "Value": 3,
                "IsPercentage": false
            },
            //4T
            {
                "DisplayValue": "195",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "480",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "960",
                "Value": 3,
                "IsPercentage": false
            }
          ]
      },
      {
          "Value": 57,
          "Text": "상태이상 공격 지속시간",
          "Class": "",
          "Categorys": null,
          "Tiers": null,
          "EtcValues": [
            // 3T유물
            {
                "DisplayValue": "0.15%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.35%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.58%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T고물
            {
                "DisplayValue": "0.19%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.42%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.70%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "0.20%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.50%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.00%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 43,
          "Text": "세레나데, 신앙, 조화 게이지 획득량",
          "Class": "",
          "Categorys": [
              200010
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.90%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.07%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.45%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "1.11%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.52%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "4.20%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "1.60%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.60%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "6.00%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 51,
          "Text": "아군 공격력 강화 효과",
          "Class": "",
          "Categorys": [
              200030
          ],
          "Tiers": null,
          "EtcValues": [
            //3T 유물
            {
                "DisplayValue": "0.76%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.72%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.88%",
                "Value": 3,
                "IsPercentage": true
            },
            //3T 고대
            {
                "DisplayValue": "0.92%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.12%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.52%",
                "Value": 3,
                "IsPercentage": true
            },
            //4T
            {
                "DisplayValue": "1.35%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.00%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "5.00%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 52,
          "Text": "아군 피해량 강화 효과",
          "Class": "",
          "Categorys": [
              200030
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "1.14%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.58%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "4.32%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "1.38%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.18%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "5.28%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "2.00%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "4.50%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "7.50%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 42,
          "Text": "적에게 주는 피해",
          "Class": "",
          "Categorys": [
              200010
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.30%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.69%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.15%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "0.37%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.84%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.40%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T 
            {
                "DisplayValue": "0.55%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.20%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.00%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 58,
          "Text": "전투 중 생명력 회복량",
          "Class": "",
          "Categorys": null,
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "5",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "13",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "21",
                "Value": 3,
                "IsPercentage": false
            },
            // 3T 고대
            {
                "DisplayValue": "8",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "17",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "28",
                "Value": 3,
                "IsPercentage": false
            },
            // 4T
            {
                "DisplayValue": "10",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "25",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "50",
                "Value": 3,
                "IsPercentage": false
            }
          ]
      },
      {
          "Value": 56,
          "Text": "최대 마나",
          "Class": "",
          "Categorys": null,
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "5",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "10",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "17",
                "Value": 3,
                "IsPercentage": false
            },
            // 3T 고대
            {
                "DisplayValue": "13",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "21",
                "Value": 3,
                "IsPercentage": false
            },
            // 4T
            {
                "DisplayValue": "6",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "15",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "30",
                "Value": 3,
                "IsPercentage": false
            }
          ]
      },
      {
          "Value": 55,
          "Text": "최대 생명력",
          "Class": "",
          "Categorys": null,
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "719",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "1654",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "2756",
                "Value": 3,
                "IsPercentage": false
            },
            // 3T 고대
            {
                "DisplayValue": "992",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "2253",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "3755",
                "Value": 3,
                "IsPercentage": false
            },
            // 4T
            {
                "DisplayValue": "1300",
                "Value": 1,
                "IsPercentage": false
            },
            {
                "DisplayValue": "3250",
                "Value": 2,
                "IsPercentage": false
            },
            {
                "DisplayValue": "6500",
                "Value": 3,
                "IsPercentage": false
            }
          ]
      },
      {
          "Value": 41,
          "Text": "추가 피해",
          "Class": "",
          "Categorys": [
              200010
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.39%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.90%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.50%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "0.48%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.09%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.82%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "0.70%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.60%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.60%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 49,
          "Text": "치명타 적중률",
          "Class": "",
          "Categorys": [
              200030
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.24%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.54%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.89%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "0.29%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.66%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.09%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "0.40%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "0.95%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.55%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 50,
          "Text": "치명타 피해",
          "Class": "",
          "Categorys": [
              200030
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.61%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.38%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.30%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "0.74%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.70%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.82%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "1.10%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.40%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "4.00%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 48,
          "Text": "파티원 보호막 효과",
          "Class": "",
          "Categorys": [
              200020
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.54%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.21%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.01%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "0.65%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.47%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.45%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "0.95%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.10%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.50%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      },
      {
          "Value": 47,
          "Text": "파티원 회복 효과",
          "Class": "",
          "Categorys": [
              200020
          ],
          "Tiers": null,
          "EtcValues": [
            // 3T 유물
            {
                "DisplayValue": "0.54%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.21%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.01%",
                "Value": 3,
                "IsPercentage": true
            },
            // 3T 고대
            {
                "DisplayValue": "0.65%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "1.47%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.45%",
                "Value": 3,
                "IsPercentage": true
            },
            // 4T
            {
                "DisplayValue": "0.95%",
                "Value": 1,
                "IsPercentage": true
            },
            {
                "DisplayValue": "2.10%",
                "Value": 2,
                "IsPercentage": true
            },
            {
                "DisplayValue": "3.50%",
                "Value": 3,
                "IsPercentage": true
            }
          ]
      }
  ]
};
  
module.exports.findValueAndLabel = (inputString) => {
    // 입력에서 "Text"와 "DisplayValue" 추출
    const match = inputString.match(/^(.+)\s\+([0-9.]+)%?$/);
    if (!match) return "[알 수 없음]";

    const inputText = match[1]; // "무기 공격력"
    const inputValue = parseFloat(match[2]); // 0.80 또는 195
    const isPercentage = inputString.includes("%"); // 입력값에 %가 포함되어 있는지 확인

    // EtcSubs에서 Text가 일치하는 항목 필터링
    const matchingSubs = data.EtcSubs.filter(sub => sub.Text === inputText);

    if (matchingSubs.length === 0) return "[알 수 없음]";

    // % 여부에 따라 적절한 항목 선택
    const matchingSub = matchingSubs.find(sub =>
    sub.EtcValues.some(value => value.IsPercentage === isPercentage)
    );

    if (!matchingSub || !matchingSub.EtcValues) return "[알 수 없음]";

    // DisplayValue로 티어 찾기
    const tier = matchingSub.EtcValues.find(value => parseFloat(value.DisplayValue.replace("%", "")) === inputValue);
    if (!tier) return "[알 수 없음]";

    // 티어 값에 따라 결과 반환
    if (tier.Value === 1) {
    return "[하]";
    } else if (tier.Value === 2) {
    return "[중]";
    } else if (tier.Value === 3) {
    return "[상]";
    } else {
    return "[알 수 없음]";
    }
};




// const OPTION_VALUES = {
//     44: { 상: 800, 중: 480, 하: 215 }, // 낙인력
  
//     41: { 상: 260, 중: 160, 하: 70 }, // 추가피해
  
//     42: { 상: 200, 중: 120, 하: 55 }, // 적에게 주는 피해
  
//     43: { 상: 600, 중: 360, 하: 160 }, // 조화게이지
  
//     45: { 상: 155, 중: 95, 하: 40 }, // 공격력%
  
//     46: { 상: 300, 중: 180, 하: 80 }, // 무공%
  
//     49: { 상: 155, 중: 95, 하: 40 }, // 치명타 적중률
  
//     50: { 상: 400, 중: 240, 하: 110 }, // 치명타 피해량
  
//     51: { 상: 500, 중: 300, 하: 135 }, // 아군 공격력 강화
  
//     52: { 상: 750, 중: 450, 하: 200 }, // 아군 피해량 강화
//   };
//   "DisplayValue": "195",
//                 "Value": 1,
//                 "IsPercentage": false
//             },
//             {
//                 "DisplayValue": "480",
//                 "Value": 2,
//                 "IsPercentage": false
//             },
//             {
//                 "DisplayValue": "960",